#!/usr/bin/env bash
#
# Script to set colors generated by 'wal'
# https://github.com/dylanaraps/wal

# Source generated colors.
. "${HOME}/.cache/wal/colors.sh"


reload_conky() {
        sed -i"" --follow-symlinks \
        -e "s/color2 = '.*'/color2 = '${color15:-#263238}'/" \
        "${HOME}/.config/conky/conky1.10_shortcuts_maia"

        sed -i"" --follow-symlinks \
        -e "s/color2 = '.*'/color2 = '${color15:-#263238}'/" \
        "${HOME}/.config/conky/conky_maia"


}

reload_dunst() {
        sed -i"" --follow-symlinks \
        -e "s/background = \"#.*\"/background = \"${color0:-#263238}\"/" \
        -e "s/foreground = \"#.*\"/foreground = \"${color15:-#556064}\"/" \
        -e "s/frame_color = \"#.*\"/frame_color = \"${color0:-#788388}\"/" \
        "${HOME}/.config/dunst/dunstrc"

         killall dunst;notify-send "Theme Changed!"

}

reload_wallpaper() {
	cp ${wallpaper} /usr/share/backgrounds/login.jpg
}

reload_dmenu() {
	sed -i"" --follow-symlinks \
        -e "s/DMENU_NB=\".*\"/DMENU_NB=\"${color0}\"/" \
        -e "s/DMENU_NF=\".*\"/DMENU_NF=\"${color2}\"/" \
        -e "s/DMENU_SB=\".*\"/DMENU_SB=\"${color14}\"/" \
        "${HOME}/.dmenurc"
}

main() {
    reload_dmenu &
    reload_wallpaper &
    reload_dunst &
    reload_conky &
   # xrdb -merge ~/.cache/wal/rofi.xres &
   # wal-discord; beautifuldiscord --css "${HOME}/.cache/wal-discord/style.css"
}

main
